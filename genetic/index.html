<html>
<head>
    <title>Genetic</title>
    <link rel="stylesheet" href="../style/common.css"/>
    <script type="text/javascript" src="../script/util.js"></script>
    <script type="text/javascript" src="../script/canvas.js"></script>
    <script type="text/javascript" src="../script/domgen.js"></script>
    <script type="text/javascript" src="script/genetic.js"></script>
</head>
<body>
<script type="text/javascript">

    var target = "Hello world";

    var population = (20).times(function(i) {
        var n = 15 + Math.floor(Math.random() * 10);
        return String.fromCharCode(97 + i).x(20); 
        return n.times(function() {
            return chars[Math.floor(Math.random() * chars.length)];
        }).join('');
    });


    function fitness( a )
    {
        var i = -1, n = Math.min(target.length, a.length);
        var score = 0;
        while ( ++i < n )
        {
            score += Math.abs(target.charCodeAt(i) - a.charCodeAt(i));
        }

        score += Math.abs(target.length - a.length) * 10;
        return score;
    }

    var genetic = new Genetic(population, fitness, 40, 15);
    while ( genetic.n < 30 )
    {
        genetic.run();
        //console.log(genetic.best);
    }


</script>
</body>
</html>
