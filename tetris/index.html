<html>
<head><title>Javascript tetris</title>
<link rel="StyleSheet" href="style/common.css" type="text/css"/>
<meta http-equiv="Content-type" content="text/html; charset=utf8" />
<link rel="icon" href="img/tetris.ico" type="image/ico" />
</head>
<body>
<center><div id="tetris"></div></center>
<script type="text/javascript" src="script/util.js" ></script>
<script type="text/javascript" src="script/widget.class.js" ></script>
<script type="text/javascript" src="script/cookie.js" ></script>
<script type="text/javascript" src="script/scoring.js" ></script>
<script type="text/javascript" src="script/color.class.js" ></script>
<script type="text/javascript" src="script/geometry.js" ></script>
<script type="text/javascript" src="script/figure.class.js" ></script>
<script type="text/javascript" src="script/field.class.js" ></script>
<script type="text/javascript" src="script/canvas.js" ></script>
<script type="text/javascript" src="script/timer.class.js" ></script>
<script type="text/javascript" src="script/tetris.class.js" ></script>
<script type="text/javascript">

//
// Javascript tetris v3
// By Andriy Vynogradov 2007
//

//// Let's go ////////////////////////////////////////////////////////////////

var query = new Array();

for each(i in x = location.href.replace(/.*?(\?|$)/, '').split('&'))	{
	if(!(typeof i == 'string')) continue
	var pair = i.split('=');
	query[pair[0]] = pair[1];
}

var maxHeight = 600;
var sizeDif = (1000 - ((window.innerHeight > maxHeight) ? (window.innerHeight - maxHeight) : 0)) / 1000.0;

var boxSide = parseInt((query.size || ((window.innerHeight - 40) * (query.scale || sizeDif))) / Tetris.default.fieldSize.height);

var tetris = new Tetris('tetris', {box : new Rectangle(boxSide, boxSide), grid:1});

</script>
</body>
</html>